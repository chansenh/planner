<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>

	  <title>Choose a Date</title>
    <meta name="description" content="a planner" />

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <!--<link rel="stylesheet" type="text/css" href="../js/stylesheet.css">-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
    
</head>

<body>
  
  <!--canvas container-->
  <div class="fluid-container">
    
    {%for eachyear in years%}
  
    {%for year,yearobj in eachyear.items%}
    <!--<div class="container pt-5 year {{year}}" style="min-height: 550px;" id="{{year}}">-->
    {%for month,monthobj in yearobj.items%}
    
    {%if monthobj.eachweek.exists%}
      {%if month == activemonth and year == activeyear%}
    <div class="container month pb-3 pt-3 border active" id="{{month}}-{{year}}"style="display: none;">
      {%else%}
      <div class="container month pb-3 pt-3 border" id="{{month}}-{{year}}"style="display: none;">
      {%endif%}
      <div class="container navigation">
        <div class="row">
          <div class="col">
            <div class="container previous-{{month}}" id="p-{{month}}-{{year}}">
              <button class="btn btn-primary rounded-circle float-left" id="prev">Prev</button>
            </div>
          </div>
          <div class="col">
            <div class="container text-center">
              <p class="lead"><b>{{month|upper}} {{year}}</b></p>
            </div>
          </div>
          <div class="col">
            <div class="container next-{{month}}" id="n-{{month}}-{{year}}">
              <button class="btn btn-primary rounded-circle float-right" id="next">Next</button>
            </div>
          </div>
        </div>
      </div>
      
      <div class="container calendar text-center border shadow">
        <div class="row">
            <div class="col p-0 border-right border-left">Sun</div>
            <div class="col p-0 border-right border-left">Mon</div>
            <div class="col p-0 border-right border-left">Tue</div>
            <div class="col p-0 border-right border-left">Wed</div>
            <div class="col p-0 border-right border-left">Thu</div>
            <div class="col p-0 border-right border-left">Fri</div>
            <div class="col p-0 border-right border-left">Sat</div>
        </div>
        
        
          <!--populate table rows with activity dates
          each row is 7 equal size col p-0s
          for daynum in monthobj.length
          -->
      
        {%for weeknumber,weekdates in monthobj.eachweek.items%}
        {%if weeknumber != "exists"%}
        <div class="row week_{{weeknumber}} p-0 border-top border-bottom"><!--hard coded. should loop from first week to last week aka 4 weeks-->
          {%if weekdates%}
          <!--eachday==7 is sunday; 1,2,3,4,5,6,7-->
          <div class="col p-0 border-right border-left">
            <div class="container sun">
              {%for date in weekdates%}    
              {%if date.weekday == "sun"%}
              {%for act in date.recurring.all%}
              <div class="container p-0 rounded shadow activity" style="background-color: {{act.color}};" width="10%">{{act.category.category}}

              </div>
              
              {%endfor%}
              <a href='/date/{{date.id}}'>{{date.day}}</a>
              
              {%endif%}
              {%endfor%}
              <br>
            </div>
          </div>
          <div class="col p-0 border-right border-left">
            <div class="container mon">
              {%for date in weekdates%}    
              {%if date.weekday == "mon"%}
              {%for act in date.recurring.all%}
              <div class="container p-0 rounded shadow activity" style="background-color: {{act.color}};" width="10%">{{act.category.category}}

              </div>
              
              {%endfor%}
              <a href='/date/{{date.id}}'>{{date.day}}</a>
              
              {%endif%}
              {%endfor%}
              <br>
            </div>
          </div>
          <div class="col p-0 border-right border-left">
            <div class="container tue">
              {%for date in weekdates%}    
              {%if date.weekday == "tue"%}
              {%for act in date.recurring.all%}
              <div class="container p-0 rounded shadow activity" style="background-color: {{act.color}};" width="10%">{{act.category.category}}

              </div>
              
              {%endfor%}
              <a href='/date/{{date.id}}'>{{date.day}}</a>
              
              {%endif%}
              {%endfor%}
              <br>
            </div>
          </div>
          <div class="col p-0 border-right border-left">
            <div class="container wed">
              {%for date in weekdates%}    
              {%if date.weekday == "wed"%}
              {%for act in date.recurring.all%}
              <div class="container p-0 rounded shadow activity" style="background-color: {{act.color}};" width="10%">{{act.category.category}}

              </div>
              
              {%endfor%}
              <a href='/date/{{date.id}}'>{{date.day}}</a>
              
              {%endif%}
              {%endfor%}
              <br>
            </div>
          </div>
          <div class="col p-0 border-right border-left">
            <div class="container thu">
              {%for date in weekdates%}    
              {%if date.weekday == "thu"%}
              {%for act in date.recurring.all%}
              <div class="container p-0 rounded shadow activity" style="background-color: {{act.color}};" width="10%">{{act.category.category}}

              </div>
              
              {%endfor%}
              <a href='/date/{{date.id}}'>{{date.day}}</a>
              
              {%endif%}
              {%endfor%}
              <br>
            </div>
          </div>
          <div class="col p-0 border-right border-left">
            <div class="container fri">
              {%for date in weekdates%}    
              {%if date.weekday == "fri"%}
              {%for act in date.recurring.all%}
              <div class="container p-0 rounded shadow activity" style="background-color: {{act.color}};" width="10%">{{act.category.category}}

              </div>
              
              {%endfor%}
              <a href='/date/{{date.id}}'>{{date.day}}</a>
              
              {%endif%}
              {%endfor%}
              <br>
            </div>
          </div>
          <div class="col p-0 border-right border-left">
            <div class="container sat">
              {%for date in weekdates%}    
              {%if date.weekday == "sat"%}
              {%for act in date.recurring.all%}
              <div class="container p-0 rounded shadow activity" style="background-color: {{act.color}};" width="10%">{{act.category.category}}

              </div>
              
              {%endfor%}
              <a href='/date/{{date.id}}'>{{date.day}}</a>
              
              {%endif%}
              {%endfor%}
              <br>
            </div>
          </div>
          {%else%}
          <div class="col p-0 border-right border-left">
            <div class="container sun">
              <br>
            </div>
          </div>
          <div class="col p-0 border-right border-left">
            <div class="container mon">
              <br>
            </div>
          </div>
          <div class="col p-0 border-right border-left">
            <div class="container tue">
              <br>
            </div>
          </div>
          <div class="col p-0 border-right border-left">
            <div class="container wed">
              <br>
            </div>
          </div>
          <div class="col p-0 border-right border-left">
            <div class="container thu">
              <br>
            </div>
          </div>
          <div class="col p-0 border-right border-left">
            <div class="container fri">
              <br>
            </div>
          </div>
          <div class="col p-0 border-right border-left">
            <div class="container sat">
              <br>
            </div>
          </div>
          {%endif%}  
        </div>
        {%endif%}
        {%endfor%}
        
      </div>
      
      

    </div>
    <!--end of month-->

    
    {%endif%}
    {%endfor%}
  <!--</div>-->
  {%endfor%}
  {%endfor%}
<!--end of year-->
  <div class="container pt-3 text-center">
    <a class="btn btn-primary" href="/create/">Create Activities</a>
  </div>
  <div class="container">
    <div class="dropdown">
      <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        Filter
      </button>
      <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
        {%for category in categories%}
        <a class="dropdown-item" href="#" id="{{category.category}}">{{category.category}}</a>
        {%endfor%}
        
      </div>
    </div>
  </div>
  
    

    
    
  



  </div>
  <!--canvas container-->
  {%load static%}
  <script src="{% static 'planner/datelist.js' %}"></script>
</body>      
</html>
